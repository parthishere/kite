{% extends 'base.html' %}

{% block head %}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
{% comment %} <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round"> {% endcomment %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
{% load static %}
<link rel="stylesheet" href="{% static 'css/algotable.css' %}">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script>
$(document).ready(function(){
	// Activate tooltip
	$('[data-toggle="tooltip"]').tooltip();
});

</script>
{% endblock head %}
{% block title %} Orders {% endblock title %}
{% block NavbarComp %}
<li class="nav-item">
  <a class="nav-link" href="/home">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/algowatch">Algowatch</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/manualwatch">Manualwatch</a>
</li>
<li class="nav-item">
  <a class="nav-link active" href="/orders">Orders</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/settings">Settings</a>
</li>
{% endblock NavbarComp %}
{% block body %} 
<body>
    <!-- Order Table -->
    <div class="container-fluid">
        <div class="table-responsive">
            <div class="table-wrapper">
                <div class="table-title">
                    <div class="row">
                        <div class="col-sm-6">
                            <h2>Orders</h2>
                        </div>
                    </div>
                </div>
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            {% comment %} <th scope="col">Order Id</th> {% endcomment %}
                            <th scope="col">Time</th>
                            <th scope="col" id='ordertypecol'>Order Type</th>
                            <th scope="col">Type</th>
                            {% comment %} <th scope="col">Order Type</th> {% endcomment %}
                            <th scope="col">Instruments</th>
                            <th scope="col">Qty</th>
                            <th scope="col">Status</th>
                            <th scope="col">Price</th>
                            {% comment %} <th scope="col">Message</th> {% endcomment %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for order in orderArrayList %}
                        <tr>
                            {% comment %} <td>{{order.orderId}}</td> {% endcomment %}
                            <td>{{order.orderTimestamp}}</td>
                            <td class="ttype"><div>{{order.transactionType}}</div></td>
                            <td>{{order.product}}</td>
                            {% comment %} <td>{{order.orderType}}</td> {% endcomment %}
                            <td>{{order.instruments}}</td>
                            <td>{{order.qty}}</td>
                            <td>{{order.status}}</td>
                            <td>{{order.avgTradedPrice}}</td>
                            {% comment %} <td>{{order.statusMessage}}</td> {% endcomment %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>        
    </div>
    <script>
        /*
        let text = document.querySelector('.ttype').innerText
        console.log(text)
        if (text == 'BUY'){
            console.log("BUY HAI")
            document.getElementsByClassName("ttype")[0].style.backgroundColor  = 'green'
            document.getElementsByClassName("ttype")[0].style.color  =  'white'
            
    
        }
        if (text == 'SELL'){
            console.log("BUY HAI")
            document.getElementsByClassName("ttype")[0].style.backgroundColor  = 'green'
            document.getElementsByClassName("ttype")[0].style.color  =  'white'
            
    
        }
        */

    </script>
    </body>

{% endblock body %}